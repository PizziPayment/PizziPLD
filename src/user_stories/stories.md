## Application mobile
\userStoryCard{1.1.1 - Authentification}{Particulier}{M'inscrire}{L’utilisateur de l’application mobile doit pouvoir s’inscrire afin d’accéder aux services de la plateforme.}{{L’application possède une vue permettant de renseigner l’email et le mot de passe ainsi que le nom d’utilisateur},{L’utilisateur peut s’inscrire au service},{Une fois inscrit, l’utilisateur est redirigé vers une page de login},{En cas d’erreur, un message sera affiché}}{2}
\userStoryCard{1.1.2 - Connection}{Particulier}{Me connecter}{L’utilisateur de l’application mobile doit pouvoir se connecter à son compte sur la plateforme.}{{L’application possède une vue permettant de renseigner l’email et le mot de passe},{L’utilisateur peut se connecter au service},{Une fois connecté l’utilisateur arrive sur l’écran d’accueil},{En cas d’erreur, un message sera affiché}}{2}
\userStoryCard{1.1.3 - Connexion via OAuth2}{Particulier}{Me connecter grâce à un service d’authentification externe}{L’utilisateur de l’application mobile doit pouvoir se connecter à son compte sur la plateforme via un fournisseur d’authentification externe par oauth2.}{{Pouvoir se connecter via le service google},{Pouvoir se connecter via le service facebook},{L’utilisateur peut se connecter au service via une fournisseur d’authentification externe},{Une fois connecté l’utilisateur arrive sur l’écran d’accueil},{En cas d’erreur, un message sera affiché}}{3}
\userStoryCard{1.1.4 - Récupération de mot de passe}{Particulier}{Récupérer mon mot de passe}{L’utilisateur de l’application mobile souhaite pouvoir récupérer son mot de passe oublié au cas où il ne se souviendrait plus de celui-ci.}{{Vue permettant de récupérer l’e-mail},{Le mot de passe est renvoyé par e-mail à l’utilisateur},{L’utilisateur peut se connecter au service via une fournisseur d’authentification externe},{Une fois connecté l’utilisateur arrive sur l’écran d’accueil},{En cas d’erreur ou si l’e-mail n’est pas connu, un message d’erreur sera affiché}}{1}
\userStoryCard{1.2.1 - Informations sur l'utilisateur}{Particulier}{Consulter mes informations utilisateur}{L’utilisateur de l’application mobile souhaite pouvoir consulter et modifier ses informations utilisateurs.}{{Vue affichant les informations utilisateurs},{Pouvoir changer son nom d’utilisateur}}{0,5}
\userStoryCard{1.2.2 - Changer son avatar}{Particulier}{Changer mon avatar utilisateur}{L’utilisateur de l’application mobile souhaite pouvoir modifier son avatar utilisateur afin d’avoir une application personnalisée.}{{Avatar présent dans les informations utilisateurs},{Pouvoir modifier son avatar}}{0,5}
\userStoryCard{1.2.3 - Ajouter une carte bancaire}{Particulier}{Ajouter une carte bancaire}{L’utilisateur de l’application mobile souhaite pouvoir ajouter une ou plusieurs cartes bancaires afin de réaliser ses paiements avec l’application.}{{Bouton d’ajout de carte.},{Formulaire de remplissage certifié pour la carte bancaire.},{Lister les cartes bancaires ajoutées.}}{2}
\userStoryCard{1.2.4 - Stocker la carte bancaire}{Particulier}{Stocker ma carte bancaire}{L’utilisateur de l’application mobile souhaite pouvoir stocker sa carte bancaire pour un usage futur afin d’éviter à chaque fois son ajout.}{{Recherche des normes de sécurités ou services permettant de stocker des cartes bancaires.},{Stockage de la carte bancaire selon normes de sécurité.}}{4}
\userStoryCard{1.2.5 - Supprimer une carte bancaire}{Particulier}{Supprimer une carte bancaire de l'application.}{L’utilisateur de l’application mobile souhaite pouvoir supprimer sa carte bancaire de l’application.}{{Bouton "Édition" pour supprimer une carte bancaire.}}{0,5}
\userStoryCard{1.2.6 - Changer de carte par défaut}{Particulier}{Changer de carte bancaire par défaut.}{L’utilisateur de l’application mobile souhaite pouvoir changer de carte bancaire par défaut afin de réaliser plus rapidement une transaction.}{{Bouton "Édition" pour placer la carte en haut de la pile définissant son usage prioritaire.}}{0,5}
\userStoryCard{1.2.7 - Supprimer son compte}{Particulier}{Supprimer mon compte}{L’utilisateur de l’application mobile souhaite pouvoir supprimer son compte et toutes ces données.}{{Bouton pour supprimer le compte de l’utilisateur dans la vue Profil.},{Méthode "DELETE" à envoyer au back-end pour supprimer le compte et les données.}}{0,5}
\userStoryCard{1.3.1 - Liste des reçus de caisse}{Particulier}{Lister mes recus de caisse}{L’utilisateur souhaite conserver une liste de tous ses reçus de caisse afin d’y accéder facilement et de faire ses comptes.}{{Simuler un ticket de caisse par un objet au format JSON},{Afficher l’objet JSON de manière stylisée afin de correspondre à un reçu},{Pouvoir accéder au site du commerçant directement depuis le reçu}}{1}
\userStoryCard{1.3.2 - Consulter un reçu}{Particulier}{Consulter mon reçu de caisse}{L’utilisateur souhaite consulter son reçu de caisse afin de vérifier ses achats et avoir des informations sur la boutique}{{Simuler un ticket de caisse par un objet au format JSON},{Afficher l’objet JSON de manière stylisée afin de correspondre à un reçu},{Pouvoir accéder au site du commerçant directement depuis le reçu}}{1}
\userStoryCard{1.3.3 - Tri des reçus}{Particulier}{Pouvoir trier mes reçus}{L’utilisateur souhaite trier ses reçus du plus récent, plus anciens, prix croissant, prix décroissant.}{{Ajout des boutons filtres en haut de la vue "Reçus"},{Requête "GET" recevant les données selon le filtre}}{1}
\userStoryCard{1.3.4 - Recherche des tickets de caisse}{Particulier}{Pouvoir rechercher un ticket de caisse}{L’utilisateur souhaite trier ses reçus du plus récent, plus anciens, prix croissant, prix décroissant.}{{Ajout d’une barre de recherche en haut de la vue "Reçus".},{Requête « GET » recevant les données selon la recherche.}}{1}
\userStoryCard{1.4.1 - Intégration des Composants d'Ordre Supérieur}{Particulier}{Avoir une application maximisant son expérience.}{L’utilisateur souhaite utiliser une application optimisée afin de maximiser son expérience utilisateur.}{{Écriture des fonctions avec un composant en paramètre et en sortie.},{Utilisation de ses fonctions réutilisables pour la conception des composants.}}{1}
\userStoryCard{1.5.1 - Intégration du paiement par carte}{Particulier}{Réaliser un paiement avec l'application.}{L’utilisateur souhaite utiliser l’application mobile afin de payer avec une carte bancaire préalablement enregistrée dans l’application.}{{Recherche de services, de moyens permettant la réalisation d’une transaction bancaire.},{Recherche des normes à respecter dans l’application mobile.},{Implémentation du processus de paiement selon les normes.}}{7}
\userStoryCard{1.5.2 - Recevoir le ticket de caisse par NFC}{Particulier}{Recevoir mon reçu lors du paiement}{L’utilisateur souhaite utiliser l’application mobile afin de recevoir son reçu après un paiement.}{{Définition des données à envoyer lors d’une communication par NFC avec le TPE.},{Implémentation de la communication par NFC.},{Lecture des données transmis via le NFC du TPE.}}{2}
## Logiciel commerçant
\userStoryCard{2.1.1 - Inscription}{Commerçant}{M'inscrire}{Le logiciel commerçant doit permettre au commerçant de s’inscrire de sorte à ce qu’il puisse utiliser toutes les fonctionnalités du logiciel par la suite}{{Le logiciel possède une page afin de récupérer l’email et le mot de passe que le commerçant aura entré},{Le mot de passe doit contenir plus de 8 caractères},{Le commerçant peut s’inscrire au service},{En cas de succès un mail de confirmation d’inscription sera envoyé},{En cas d’erreur, le commerçant sera invité à recommencer l’étape via un message}}{2}
\userStoryCard{2.1.2 - Connexion}{Commerçant}{Me connecter}{Le logiciel commerçant doit permettre au commerçant de se connecter à son compte, préalablement créé afin d’accéder à toutes ses informations}{{Le logiciel possède une page afin de permettre au commerçant de rentrer l’email et le mot de passe associés à son compte},{Le commerçant peut se connecter au service},{Une fois connecté le commerçant arrive sur son tableau de bord},{En cas d’erreur, le commerçant sera invité à recommencer l’étape via un message d’erreur}}{2}
\userStoryCard{2.2.1 - Tableau de bord}{Commerçant}{Avoir une page de gestion des stocks}{Le logiciel commerçant doit permettre au commerçant de gérer ses stocks}{{Le logiciel possède une page afin de renseigner ses produits},{Le logiciel possède une page afin de renseigner la quantité},{Page récapitulative des stocks}}{10}
\userStoryCard{2.2.2 - Page de gestion des stocks}{Commerçant}{Avoir une page de gestion des stocks}{Le logiciel commerçant doit permettre au commerçant de gérer ses stocks}{{Le logiciel possède une page afin de renseigner ses produits},{Le logiciel possède une page afin de renseigner la quantité},{Page récapitulative des stocks}}{5}
## Back-end
\userStoryCard{3.1.1 - Créer un compte}{Client}{Pouvoir créer un compte}{Le backend doit pouvoir créer un compte afin de donner l'accès à un utilsateur à la solution Pizzi.}{{La route devra être un POST},{La route devra accepter un objet JSON dans le body de la requête},{L'objet devra contenir une adresse e-mail, un nom d'utilisateur, un mot de passe et toutes les informations légales nécessaire},{En cas de succès, la route devra retourner un code HTTP 201},{En cas d'erreur sur les données reçues, la route devra retourner un code HTTP 400},{En cas d'erreur côté API, la route devra retourner un code HTTP 500},{Les mots de passe devront contenir au minimum huit caractères, une minuscule, une majuscule, un caractère spécial et un chiffre},{Les mots devront être hachés en SHA-256 dans la base de données},{Les adresses e-mails devront être uniques},{Les noms d'utilisateur devront être uniques},{Les données en entrées devront être contrôlées afin de diminuer les risques de piratage},{La route devra être documentée},{Des tests unitaires et d'intégrations pour chacun des cas devront être réalisés}}{4}
\userStoryCard{3.1.2 - Connexion}{Client}{Pouvoir me connecter a un compte}{Le backend doit pouvoir connecter un compte afin de retrouver les informations qui lui sont associés}{{La route devra être un POST},{La route devra accepter un objet JSON dans le body de la requête},{L'objet devra contenir une adresse e-mail ou un utilisateur ainsi que le mot de passe},{En cas de succès, la route devra retourner un code HTTP 200 ainsi qu'un jeton d'identification},{En cas d'erreur sur les données reçues, la route devra retourner un code HTTP 400},{En cas d'erreur côté API, la route devra retourner un code HTTP 500},{La route devra être documentée},{Des tests unitaires et d'intégrations pour chacun des cas devront être réalisés}}{4}
\userStoryCard{3.1.3 - Déconnexion}{Backend}{Pouvoir déconnecter un compte}{Le backend doit pouvoir déconnecter un compte afin que l'utilisateur ne soit plus actif}{{La route doit être un PATCH},{La route doit accepter un objet JSON dans le body de la requête},{L'objet doit contenir le jeton d'identification},{En cas de succès, la route doit retourner un code HTTP 204},{En cas d'erreur sur les données reçues, la route doit retourner un code HTTP 400},{En cas d'erreur côté API, la route doit retourner un code HTTP 500},{La route doit être documentée},{Des tests unitaires et d'intégrations pour chacun des cas doivent être réalisés}}{4}
\userStoryCard{3.1.4 - Supprimer un compte}{Client}{Pouvoir supprimer mon compte}{Le backend doit pouvoir supprimer un compte afin de supprimer un profile utilisateur.}{{La route doit être un DELETE},{La route doit accepter un objet JSON dans le body de la requête},{L'objet doit contenir le jeton d'identification et le mot de passe},{En cas de succès, la route doit retourner un code HTTP 204},{En cas d'erreur sur les données reçues, la route doit retourner un code HTTP 400},{En cas d'erreur côté API, la route doit retourner un code HTTP 500},{La route doit être documentée},{Des tests unitaires et d'intégrations pour chacun des cas doivent être réalisés}}{4}
\userStoryCard{3.1.5 - Authentification en OAuth2}{Client}{Accepter les authentifications en OAuth2}{Le backend doit pouvoir accepter les authentifications en OAuth2 afin de gagner en simplicité et en sécurité.}{{La route doit être un POST},{La route doit accepter un objet JSON dans le body de la requête},{L'objet doit contenir l'identifiant de l'application et un jeton d'identification},{En cas de succès, la route doit retourner un code HTTP 204},{En cas d'erreur sur les données reçues, la route doit retourner un code HTTP 400},{En cas d'erreur côté API, la route doit retourner un code HTTP 500},{La route doit être documentée},{Des tests unitaires et d'intégrations pour chacun des cas doivent être réalisés}}{4}
\userStoryCard{3.2.1 - Avoir une infrastructure solide}{Non pertinent}{Avoir une infrastructure solide}{Le backend doit être conçu sur des fondations solides afin d'assurer une durabilité dans le temps, que ce soit le projet EIP ou plus tard.}{{Le backend doit être constitué de technologies durables qui seront encore utilisées d’ici 5 ans},{Le backend doit avoir une abstraction efficace sur la base de données},{L’API doit suivre la norme REST},{Un générateur de documentation d’API (Swagger) doit être disponible}}{15}
\userStoryCard{3.2.2 - Stocker les clients}{Backend}{Pouvoir stocker les clients}{La base de données doit stocker les clients afin de les garder en mémoire}{{La base de données stocke une table contenant les clients},{Chaque client contient un identifiant unique.},{Chaque client contient un nom d'utilisateur},{Chaque client contient une adresse e-mail unique.},{Chaque client contient un mot de passe haché.},{Chaque client contient les informations légales nécessaires à l'accomplissement d'une transaction}}{3}
\userStoryCard{3.2.3 - Stocker les commerçants afin de les garder en mémoire}{Non pertinent}{Pouvoir stocker les commerçants}{La base de données doit stocker les commerçants afin de les garder en mémoire}{{La base de données possède une table contenant les commerçants},{Chaque commerçant possède un identifiant unique.},{Chaque commerçant possède une adresse e-mail unique.},{Chaque commerçant possède un mot de passe haché.}}{3}
\userStoryCard{3.2.4 - Stocker les tickets de caisse des utilisateurs}{Non pertinent}{Pouvoir stocker les tickets de caisse des utilisateurs}{La base de données doit stocker les tickets de caisse des utilisateurs afin de les garder en mémoire}{{La base de données possède une table contenant les tickets de caisse.},{Chaque ticket possède un identifiant unique.},{Chaque ticket possède l'identifiant du client auquel il appartient.},{Chaque ticket possède l'identifiant du commerçant émetteur.},{Chaque ticket possède le montant de la transaction.},{Chaque ticket possède la liste des objets acheté et leur prix.},{Chaque ticket possède la date de la transaction.}}{3}
\userStoryCard{3.2.5 - Stocker les reçus des commerçants}{Non pertinent}{Pouvoir stocker les reçus des commerçants}{La base de données doit stocker les reçus commerçants afin de les garder en mémoire}{{La base de données possède une table contenant les reçus des commerçants.},{Chaque reçu possède l'identifiant du ticket de caisse correspondant.},{Chaque reçu possède l'identifiant du commerçant émetteur.},{Chaque reçu possède les informations légalement requises pour la validité du reçu}}{3}
\userStoryCard{3.2.6 - Stocker les réglages utilisateurs}{Non pertinent}{Pouvoir stocker les réglages utilisateurs}{La base de données doit stocker les réglages utilisateurs afin de les garder en mémoire}{{La base de données possède une table contenant la configuration des utilisateurs.},{Chaque configuration possède l'identifiant de l'utilisateur auquel elle appartient.},{Chaque configuration possède les moyens de paiement de l'utilisateur.}}{3}
\userStoryCard{3.2.7 - Stocker le branding des commerçants}{Commerçant}{Stocker le branding des commerçants}{La base de données doit stocker le branding des commerçants afin de les garder en mémoire.
}{{La base de données possède une table contenant le branding des commerçants afin de les garder en mémoire},{Chaque reçu possède l'identifiant du commerçant qui lui est associé},{Chaque branding possède le logo du commerçant},{Chaque branding possède les réseaux sociaux du comnerçant}}{3}
\userStoryCard{3.2.8 - Déployer l'infrastructure efficacement}{Backend}{Être déployable facilement}{Le back end doit pouvoir être déployé de façon efficace et simple.
}{{Un fichier docker-compose doit pouvoir déployer l'intégralité de l'infrastructure},{Ce fichier doit pouvoir être configurqtion via l'environnment}}{4}
\userStoryCard{3.2.9 - Organiser les contributions}{Non pertinent}{Avoir des instructions de contributions}{Le back end doit pouvoir être déployé de façon efficace et simple.
}{{Une documentation expliquant les instructions pour les contributions aux différents repository doit-être fournie}}{4}
\userStoryCard{3.2.10 - Héberger l'infrastructure}{Infrastructure}{Être hébergée}{L’infrastructure doit être hébergée pour être accessible à tous depuis plusieurs endroits géographiquement éparpillés.
}{{Le serveur doit être accessible},{Le serveur doit être protégé (VPN ?)}}{5}
## Terminal de paiement
\userStoryCard{4.1.1 - ESP32}{Non pertinent}{Que mon TPE fonctionne grâce à un ESP32}{Le TPE doit embarquer un ESP32, pour être plus petit et performant}{{L'ESP32 doit être installé dans le boîtier},{L'ESP32 doit utiliser le module NFC},{L'ESP32 doit communiquer avec un back-end},{L'ESP32 doit avoir un écran}}{3}
\userStoryCard{4.1.2 - Lecture carte bancaire avec contact}{Client - Commerçant}{Payer avec une carte, avec contact}{Le boîtier doit pouvoir accepter un paiement par carte bancaire avec contact}{{Le boîtier doit être capable d'accepter un paiement avec contact},{Le boîtier doit être capable de lire les informations d'une carte bancaire}}{6}
\userStoryCard{4.1.3 - Lecture carte bancaire sans contact}{Client - Commerçant}{Payer avec une carte, sans contact}{Recherche pour effectuer un paiement sans contact}{{Le boîtier doit pouvoir accepter un paiement sans contact},{Le boîtier doit pouvoir lire les informations d'une carte sans contact}}{6}
\userStoryCard{4.2.1 - Affichage graphique}{Client - Commerçant}{Que mon boîtier possède un affichage graphique}{Pour faciliter l'interaction avec le TPE, une interface graphique est nécessaire}{{Le boîtier possède un écran},{L'ESP32 utilise une librairie graphique},{L'ESP32 possède une interface simpliste}}{6}
\userStoryCard{4.3.1 - Ergonomie du boîtier}{Client - Commerçant}{Que mon TPE soit ergonomique et moderne}{Un design simple et ergonomique permettant une expérience d'utilisation agréable}{{Le boîtier est minimaliste},{L'interface est accessible},{Le TPE est respectueux de l'environnement}}{4}
\userStoryCard{4.3.2 - Impression du boîtier}{Client - Commerçant}{Que mon TPE soit un boîtier}{Imprimer en filament 3D un boîtier pour accueillir l'ESP32}{{Le boîtier doit tenir dans une main},{Le boîtier doit être imprimé en 3D}}{1}
## Recherches
\userStoryCard{5.1.1 - Réaliser une transaction}{Non pertinent}{Pouvoir réaliser une transaction}{Rechercher les méthodes utilisables et légales pour réaliser une transaction}{{La méthode doit pouvoir être applicable à notre contexte},{Il serait préférable qu'elle soit testable simplement pour faciliter le développement}}{15}
\userStoryCard{5.1.2 - Stocker des informations de paiement}{Non pertinent}{Pouvoir stocker des informations de paiement}{Rechercher les méthodes utilisables et utilisables et légales pour stocker des informations de paiement telles que des cartes bleues}{{La méthode doit pouvoir être applicable à notre contexte},{Il serait préferable qu'elle soit testable simplement pour faciliter le développement}}{10}
\userStoryCard{5.2.1 - API Bancaires}{Non pertinent}{Pouvoir appeler une/des API bancaires}{Rechercher les méthodes afin d'autoriser une trasaction via API bancaires}{{Choix d'une API bancaire de test},{Choix d'une méthode de travail afin d'intégrer de nouvelles banques via API}}{5}
\userStoryCard{5.2.2 - Système Lydia}{Non pertinent}{Etudier comment fonctionne le système de l'application Lydia}{Lydia est une application de paiement sans contact entre particuliers}{{Etude du système Lydia},{Comprendre comment créer une carte bancaire virtuelle}}{5}
\userStoryCard{5.3.1 - Méthodes de travail}{Non pertinent}{Définir des méthodes de travail}{Travailler en distanciel avec de multiples fuseaux horaires requiert une bonne organisation}{{Etude des différentes méthodologies de travail},{Choisir des méthodes adaptées à notre cas}}{3}